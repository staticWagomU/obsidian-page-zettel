// ============================================================
// Dashboard Data (AI edits this section)
// ============================================================

const userStoryRoles = ["Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", "Zettelkastenå®Ÿè·µè€…", "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼"] as const satisfies readonly string[];

const scrum: ScrumDashboard = {
  product_goal: {
    statement: "Zettelkastenæ–¹å¼ã§ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’åŠ¹ç‡çš„ã«è¨˜éŒ²ãƒ»æ•´ç†ã—ã€çŸ¥è­˜ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹",
    success_metrics: [{ metric: "ãƒãƒ¼ãƒˆä½œæˆã®æ“ä½œã‚¹ãƒ†ãƒƒãƒ—æ•°", target: "3ã‚¹ãƒ†ãƒƒãƒ—ä»¥å†…" }, { metric: "ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã‹ã‚‰ãƒãƒ¼ãƒˆä½œæˆå®Œäº†ã¾ã§", target: "5ç§’ä»¥å†…" }],
  },

  product_backlog: [
    // Phase 1-7: done (PBI-001ã€œ016)
    { id: "PBI-001", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã‚’è­˜åˆ¥ã§ãã‚‹", benefit: "åˆ†é¡ãƒ»ç®¡ç†" }, acceptance_criteria: [{ criterion: "NoteTypeå‹+CONFIG", verification: "build" }], status: "done" },
    { id: "PBI-002", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†", benefit: "é–¢ä¿‚æ€§è¿½è·¡" }, acceptance_criteria: [{ criterion: "5ãƒ¡ã‚½ãƒƒãƒ‰", verification: "å®Ÿè£…" }], status: "done" },
    { id: "PBI-003", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "é¸æŠãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰æ–°è¦ãƒãƒ¼ãƒˆä½œæˆ", benefit: "ã‚¢ã‚¤ãƒ‡ã‚¢åˆ‡ã‚Šå‡ºã—" }, acceptance_criteria: [{ criterion: "Modal+ãƒªãƒ³ã‚¯ç½®æ›", verification: "E2E" }], status: "done" },
    { id: "PBI-004", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ãƒãƒ¼ãƒˆä½œæˆ", benefit: "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç®¡ç†" }, acceptance_criteria: [{ criterion: "å¤‰æ•°å±•é–‹", verification: "Templateså­˜åœ¨" }], status: "done" },
    { id: "PBI-005", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º", benefit: "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼èª¿æ•´" }, acceptance_criteria: [{ criterion: "è¨­å®šUI+æ°¸ç¶šåŒ–", verification: "ä¿æŒç¢ºèª" }], status: "done" },
    { id: "PBI-006", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "ãƒãƒ¼ãƒˆæ˜‡æ ¼", benefit: "æ®µéšçš„æˆç†Ÿ" }, acceptance_criteria: [{ criterion: "PromotionService", verification: "æ˜‡æ ¼ç¢ºèª" }], status: "done" },
    { id: "PBI-007", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "Permanent-Structureæ¥ç¶š", benefit: "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹ç¯‰" }, acceptance_criteria: [{ criterion: "ConnectionManager", verification: "åŒæ–¹å‘ãƒªãƒ³ã‚¯" }], status: "done" },
    { id: "PBI-008", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "å­¤ç«‹Permanentç™ºè¦‹", benefit: "æ¥ç¶šæ¼ã‚Œé˜²æ­¢" }, acceptance_criteria: [{ criterion: "OrphanView", verification: "ãƒªã‚¹ãƒˆè¡¨ç¤º" }], status: "done" },
    { id: "PBI-009", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—Fleetingä½œæˆ", benefit: "ç´ æ—©ãã‚­ãƒ£ãƒ—ãƒãƒ£" }, acceptance_criteria: [{ criterion: "QuickCaptureModal", verification: "E2E" }], status: "done" },
    { id: "PBI-010", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "ãƒ•ã‚©ãƒ«ãƒ€è‡ªå‹•ç”Ÿæˆ", benefit: "æ‰‹å‹•ä½œæˆä¸è¦" }, acceptance_criteria: [{ criterion: "initializeAllFolders", verification: "ãƒ•ã‚©ãƒ«ãƒ€å­˜åœ¨" }], status: "done" },
    { id: "PBI-011", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "æ¥ç¶šç‡çµ±è¨ˆ", benefit: "å¥å…¨æ€§æŠŠæ¡" }, acceptance_criteria: [{ criterion: "getStats", verification: "UIè¡¨ç¤º" }], status: "done" },
    { id: "PBI-012", story: { role: "Zettelkastenå®Ÿè·µè€…", capability: "ãƒ•ã‚©ãƒ«ãƒ€ã‚µã‚¸ã‚§ã‚¹ãƒˆ", benefit: "ã‚¿ã‚¤ãƒé˜²æ­¢" }, acceptance_criteria: [{ criterion: "FolderSuggest", verification: "dropdown" }], status: "done" },
    { id: "PBI-013", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼æ“ä½œ", benefit: "ç´ æ—©ãã‚¢ã‚¯ã‚»ã‚¹" }, acceptance_criteria: [{ criterion: "editor-menu/file-menu", verification: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º" }], status: "done" },
    { id: "PBI-014", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "i18nå¯¾å¿œ", benefit: "è‡ªç„¶ãªUI" }, acceptance_criteria: [{ criterion: "t()é–¢æ•°+ç¿»è¨³JSON", verification: "è¨€èªåˆ‡æ›¿" }], status: "done" },
    { id: "PBI-015", story: { role: "Obsidianãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°", benefit: "æ“ä½œæ€§å‘ä¸Š" }, acceptance_criteria: [{ criterion: "setSection", verification: "ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ãƒ¼" }], status: "done" },
    { id: "PBI-016", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "3ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—åŒ–", benefit: "ã‚·ãƒ³ãƒ—ãƒ«åŒ–" }, acceptance_criteria: [{ criterion: "Structure/Indexå‰Šé™¤", verification: "grep+build" }], status: "done" },
    // Phase: æ–°è¨­è¨ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° (DESIGN.mdæº–æ‹ )
    { id: "PBI-017", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "è¨­å®šç”»é¢ã§å„ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã§ãã‚‹", benefit: "è‡ªåˆ†ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«åˆã‚ã›ãŸZettelkastenç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã‚‹" }, acceptance_criteria: [{ criterion: "NoteTypeSettingså‹å®šç¾©(fileNameFormat/showAliasInput/templatePath/folder)", verification: "types/settings.ts" }, { criterion: "PageZettelSettingsæ‹¡å¼µ+DEFAULT_SETTINGS", verification: "settings.ts" }, { criterion: "3ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—Ã—è¨­å®šUI(å„4é …ç›®)", verification: "è¨­å®šç”»é¢è¡¨ç¤º" }, { criterion: "è¨­å®šæ°¸ç¶šåŒ–", verification: "data.jsonä¿å­˜ç¢ºèª" }], status: "done" },
    { id: "PBI-018", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "NoteTypeSelectModalã¨AliasInputModalã§ãƒãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼ã‚’çµ±ä¸€ã§ãã‚‹", benefit: "ä¸€è²«ã—ãŸUIä½“é¨“" }, acceptance_criteria: [{ criterion: "NoteTypeModalæ‹¡å¼µ: FuzzySuggestModalç¶™æ‰¿+3ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—è¡¨ç¤º(icon/label/description)+é¸æŠã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯", verification: "æ—¢å­˜note-type-modal.tså‹•ä½œç¢ºèª" }, { criterion: "AliasInputModalæ–°è¦ä½œæˆ: Modalç¶™æ‰¿+ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›+Enterã‚­ãƒ¼å¯¾å¿œ+ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹(Extractæ™‚ã®ã¿è¡¨ç¤º)+ä½œæˆ/ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³", verification: "QuickCaptureModalãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨+DESIGN.md L65-77æº–æ‹ " }, { criterion: "è¨­å®šé€£å‹•: showAliasInput=falseã®å ´åˆAliasInputModalã‚¹ã‚­ãƒƒãƒ—+ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦ä½¿ç”¨", verification: "å„ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—è¨­å®š(fleeting/literature/permanent)ã®showAliasInputãƒ•ãƒ©ã‚°ã§è¡¨ç¤ºåˆ¶å¾¡" }, { criterion: "i18nå¯¾å¿œ: modals.aliasInputé…ä¸‹ã«ç¿»è¨³ã‚­ãƒ¼è¿½åŠ (title/inputName/inputDesc/inputPlaceholder/removeIndent/createButton/cancelButton)", verification: "ja.json+en.jsonè¿½åŠ " }], status: "done" },
    { id: "PBI-019", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "TemplateServiceã§ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’å±•é–‹", benefit: "ä¸€è²«ã—ãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ" }, acceptance_criteria: [{ criterion: "{{content}}å±•é–‹: variables.content || \"\"ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æŒ¿å…¥", verification: "Extractæ™‚=é¸æŠç¯„å›²/Createæ™‚=ç©ºæ–‡å­—" }, { criterion: "{{date}}å±•é–‹: YYYY-MM-DDå›ºå®šå½¢å¼ã§ç¾åœ¨æ—¥ä»˜ã‚’æŒ¿å…¥", verification: "moment().format(\"YYYY-MM-DD\")" }, { criterion: "{{time}}å±•é–‹: HH:mm:sså›ºå®šå½¢å¼ã§ç¾åœ¨æ™‚åˆ»ã‚’æŒ¿å…¥", verification: "moment().format(\"HH:mm:ss\")" }, { criterion: "{{datetime}}å±•é–‹: YYYY-MM-DD HH:mm:sså›ºå®šå½¢å¼ã§ç¾åœ¨æ—¥æ™‚ã‚’æŒ¿å…¥", verification: "moment().format(\"YYYY-MM-DD HH:mm:ss\")" }, { criterion: "{{title}}å±•é–‹: variables.titleã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æŒ¿å…¥", verification: "ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆæ‹¡å¼µå­ãªã—ï¼‰" }, { criterion: "{{alias}}å±•é–‹: variables.alias || \"\"ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æŒ¿å…¥", verification: "ã‚¨ã‚¤ãƒªã‚¢ã‚¹å…¥åŠ›æ™‚ã®ã¿å€¤ã‚’æŒã¤" }, { criterion: "{{date:FORMAT}}å±•é–‹: æ—¢å­˜ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ©Ÿèƒ½ã‚’ç¶­æŒ", verification: "moment().format(FORMAT)" }, { criterion: "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœªè¨­å®šæ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: variables.content || \"\"ã‚’è¿”ã™", verification: "loadTemplateãŒnullæ™‚" }], status: "done" },
    { id: "PBI-020", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "NoteCreatorServiceã§ãƒãƒ¼ãƒˆä½œæˆçµ±ä¸€", benefit: "ã‚³ãƒ¼ãƒ‰é‡è¤‡é˜²æ­¢" }, acceptance_criteria: [{ criterion: "NoteCreatorServiceå®Ÿè£…: createNote(type,content,alias)ãƒ¡ã‚½ãƒƒãƒ‰+constructor(app,settings,folderService,templateService,frontmatterService)", verification: "services/note-creator-service.tsä½œæˆ" }, { criterion: "ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼å±•é–‹: settings[type].fileNameFormatã‚’ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å±•é–‹({{date}}/{{time}}/{{datetime}}/{{zettel-id}}/{{title}})", verification: "generateFileName()ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…" }, { criterion: "ãƒ•ã‚©ãƒ«ãƒ€é…ç½®: settings[type].folderã‹ã‚‰å–å¾—+folderService.ensureFolderExistsByPath()ã§ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ", verification: "NoteManager.createNote()ã®folderServiceçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²" }, { criterion: "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆçµ±åˆ: settings[type].templatePathã‹ã‚‰å–å¾—+templateService.getProcessedTemplate()ã§ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å±•é–‹(content/alias/title/date/time/datetime)", verification: "TemplateVariables{content,alias,title}ã‚’æ¸¡ã™" }, { criterion: "ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼çµ±åˆ: frontmatterService.addFrontmatter()ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¿½åŠ ", verification: "NoteManager.createNote()ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²" }, { criterion: "ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ+Noticeé€šçŸ¥: app.vault.create()+new Notice()", verification: "NoteManager.createNote()ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²" }], status: "done" },
    { id: "PBI-021", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "Create New Noteã‚³ãƒãƒ³ãƒ‰", benefit: "ç´ æ—©ãè¨˜éŒ²é–‹å§‹" }, acceptance_criteria: [{ criterion: "i18nç¿»è¨³ã‚­ãƒ¼è¿½åŠ : commands.createNewNoteé…ä¸‹ã«æ—¥è‹±ç¿»è¨³ã‚­ãƒ¼ã‚’è¿½åŠ ", verification: "i18n/locales/ja.json+en.json" }, { criterion: "ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²: addCommand({id:\"create-new-note\",name:çµµæ–‡å­—è¨­å®šé€£å‹•,callback})", verification: "main.ts+t(\"commands.createNewNote\")+settings.ui.showEmojiInCommands" }, { criterion: "NoteTypeModalè¡¨ç¤º: NoteTypeModal(app,onSelect,[\"fleeting\",\"literature\",\"permanent\"])", verification: "extract-selection-commandãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²" }, { criterion: "AliasInputModalè¡¨ç¤º: settings[type].showAliasInput=trueã®å ´åˆã®ã¿è¡¨ç¤º+showRemoveIndent=false", verification: "removeIndentãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹éè¡¨ç¤º" }, { criterion: "NoteCreatorServiceçµ±åˆ: noteCreatorService.createNote(type,\"\",alias)+ä½œæˆå¾ŒopenLinkText()ã§ãƒãƒ¼ãƒˆã‚’é–‹ã", verification: "content=\"\"ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿å±•é–‹+DESIGN.md L46æº–æ‹ " }, { criterion: "main.tsã«NoteCreatorServiceåˆæœŸåŒ–: constructor(app,settings,folderService,templateService,frontmatterService)", verification: "æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²" }], status: "done" },
    { id: "PBI-022", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "Extract to Note", benefit: "ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒãƒ¼ãƒˆæŠ½å‡º" }, acceptance_criteria: [{ criterion: "NoteCreatorServiceçµ±åˆ: extract-selection-command.tsã§noteCreatorService.createNote(type,content,alias)ã‚’ä½¿ç”¨", verification: "NoteManager.createNote()ã‹ã‚‰NoteCreatorService.createNote()ã«ç½®æ›" }, { criterion: "ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªãƒ³ã‚¯ç½®æ›: [[basename]]å½¢å¼ã‚’[alias](relativePath)å½¢å¼ã«å¤‰æ›´", verification: "DESIGN.md L262-271æº–æ‹ +ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚ã‚Šã¯[alias](path)ã€ãªã—ã¯[filename](path)" }, { criterion: "Extractå¾Œã®ãƒãƒ¼ãƒˆã‚ªãƒ¼ãƒ—ãƒ³è¨­å®š: settings.behavior.openAfterExtract=trueã®å ´åˆã®ã¿openLinkText()å®Ÿè¡Œ", verification: "BehaviorSettings.openAfterExtractè¿½åŠ +æ¡ä»¶åˆ†å²" }, { criterion: "ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå‰Šé™¤æ©Ÿèƒ½ç¶­æŒ: æ—¢å­˜ã®removeCommonIndent()ã¨AliasInputModal.removeIndentçµ±åˆç¢ºèª", verification: "extract-selection-command.ts L117-134+AliasInputModal L65-73å‹•ä½œç¢ºèª" }, { criterion: "i18nç¿»è¨³ã‚­ãƒ¼æ›´æ–°: commands.extractSelection â†’ commands.extractToNote", verification: "ja.json+en.json+main.ts L58-64ã®ã‚³ãƒãƒ³ãƒ‰åæ›´æ–°" }], status: "done" },
    { id: "PBI-023", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "å­¤ç«‹Permanentæ¤œå‡º(ãƒªãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹)", benefit: "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµ±åˆ" }, acceptance_criteria: [{ criterion: "getOrphanPermanentNotes()ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°: structure_notesãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼æ¤œå‡ºã‚’å‰Šé™¤+metadataCache.getFileCache(file)?.linksé…åˆ—ã‹ã‚‰ä»–Permanentãƒãƒ¼ãƒˆã¸ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªãƒ³ã‚¯è¢«å‚ç…§ã‚’ãƒã‚§ãƒƒã‚¯+è¢«å‚ç…§0ä»¶=å­¤ç«‹", verification: "orphan-detector-service.ts L18-62" }, { criterion: "getStats()ä¿æŒ: çµ±è¨ˆæƒ…å ±å–å¾—ãƒ¡ã‚½ãƒƒãƒ‰ã¯æ—¢å­˜å®Ÿè£…ã‚’ç¶­æŒï¼ˆtotal/orphans/connected/connectionRateè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ãªã—ï¼‰", verification: "orphan-detector-service.ts L68-97" }, { criterion: "OrphanViewç¶­æŒ: ã‚¯ãƒªãƒƒã‚¯ã§ãƒãƒ¼ãƒˆé·ç§»æ©Ÿèƒ½ã‚’ç¶­æŒ+çµ±è¨ˆæƒ…å ±è¡¨ç¤ºã‚’ç¶­æŒ+ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒœã‚¿ãƒ³ã‚’ç¶­æŒ", verification: "orphan-view.ts L103-106 (click), L66-76 (stats), L78-84 (refresh)" }, { criterion: "i18nç¿»è¨³ã‚­ãƒ¼ç¶­æŒ: views.orphané…ä¸‹ã®æ—¢å­˜ç¿»è¨³ã‚­ãƒ¼ï¼ˆtitle/stats/refreshButton/emptyMessageï¼‰ã‚’å¤‰æ›´ãªã—", verification: "i18n/locales/ja.json L148-154" }], status: "done" },
    { id: "PBI-024", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼Extract", benefit: "å³ã‚¯ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹" }, acceptance_criteria: [{ criterion: "editor-menuã‚¤ãƒ™ãƒ³ãƒˆã§é¸æŠãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚‹å ´åˆã®ã¿Extract to Noteãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤º", verification: "main.ts L133-158+editor.getSelection()åˆ¤å®š" }, { criterion: "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¯ãƒªãƒƒã‚¯æ™‚ã«extractSelection()ã‚’å®Ÿè¡Œ", verification: "main.ts L154+extract-selection-command.tsçµ±åˆç¢ºèª" }, { criterion: "showContextMenuItems=falseã®å ´åˆãƒ¡ãƒ‹ãƒ¥ãƒ¼éè¡¨ç¤º", verification: "main.ts L136+settings.ts L319-327" }, { criterion: "commands.extractToNoteã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¿ã‚¤ãƒˆãƒ«ã«ä½¿ç”¨", verification: "main.ts L147+i18n/locales/ja.json+en.json" }, { criterion: "showEmojiInCommands=trueã®å ´åˆğŸ“ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º", verification: "main.ts L146-148+settings.ui.showEmojiInCommands" }], status: "done" },
    // Phase: ãƒã‚°ä¿®æ­£ãƒ»è¨­å®šé€£å‹•
    { id: "PBI-025", story: { role: "Obsidianãƒ¦ãƒ¼ã‚¶ãƒ¼", capability: "æ˜‡æ ¼æ™‚ã«ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã™ã‚‹ã‹ã‚’è¨­å®šã§åˆ¶å¾¡ã§ãã‚‹", benefit: "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æŸ”è»Ÿæ€§å‘ä¸Š" }, acceptance_criteria: [{ criterion: "PromotionService.promoteNote()ã§settings.behavior.moveOnPromotionã‚’å‚ç…§", verification: "promotion-service.ts" }, { criterion: "moveOnPromotion=trueã®å ´åˆã®ã¿ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã‚’å®Ÿè¡Œ", verification: "æ¡ä»¶åˆ†å²+app.vault.rename()å‘¼ã³å‡ºã—åˆ¶å¾¡" }, { criterion: "moveOnPromotion=falseã®å ´åˆã¯ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼æ›´æ–°ã®ã¿å®Ÿè¡Œ", verification: "ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã‚¹ã‚­ãƒƒãƒ—ç¢ºèª" }, { criterion: "PromotionServiceã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§settingså‚ç…§ä¿æŒ", verification: "this.settings = settings" }], status: "ready" },
  ],

  sprint: {
    number: 25,
    pbi_id: "PBI-025",
    goal: "PromotionService.promoteNote()ã§settings.behavior.moveOnPromotionãƒ•ãƒ©ã‚°ã‚’å‚ç…§ã—ã€ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã®æœ‰ç„¡ã‚’åˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹",
    status: "planning",
    subtasks: [
      {
        test: "PromotionServiceã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§settingså‚ç…§ä¿æŒ: this.settings = settingsã§settingsä¿æŒ",
        implementation: "services/promotion-service.ts",
        type: "behavioral",
        status: "pending",
        commits: [],
        notes: ["AC4å¯¾å¿œ", "constructorå†…ã§this.settings = settingsã‚’è¿½åŠ ", "æ—¢å­˜ã®folderServiceåˆæœŸåŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²"]
      },
      {
        test: "promoteNote()ã§moveOnPromotionæ¡ä»¶åˆ†å²è¿½åŠ : settings.behavior.moveOnPromotionå‚ç…§+æ¡ä»¶åˆ†å²",
        implementation: "services/promotion-service.ts",
        type: "behavioral",
        status: "pending",
        commits: [],
        notes: ["AC1å¯¾å¿œ", "ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•å‡¦ç†ã®å‰ã«if(this.settings.behavior.moveOnPromotion)ã§æ¡ä»¶åˆ†å²", "moveOnPromotion=trueã®å ´åˆã®ã¿ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•å®Ÿè¡Œï¼ˆAC2ï¼‰", "moveOnPromotion=falseã®å ´åˆã¯ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã‚¹ã‚­ãƒƒãƒ—ï¼ˆAC3ï¼‰"]
      },
      {
        test: "Definition of Doneæ¤œè¨¼: build/lint/formatå…¨ãƒã‚§ãƒƒã‚¯ãƒ‘ã‚¹",
        implementation: "pnpm build && pnpm lint && pnpm format:check",
        type: "behavioral",
        status: "pending",
        commits: [],
        notes: ["å…¨DoDãƒã‚§ãƒƒã‚¯é€šéç¢ºèª"]
      }
    ]
  },

  definition_of_done: { checks: [{ name: "Build passes", run: "pnpm build" }, { name: "Lint passes", run: "pnpm lint" }, { name: "Format check passes", run: "pnpm format:check" }] },

  completed: [
    { number: 1, pbi_id: "PBI-001", goal: "NoteTypeå‹å®šç¾©", status: "done", subtasks: [{ test: "å‹+å®šæ•°", implementation: "types/note-types.ts", type: "behavioral", status: "completed", commits: [{ hash: "1eb7e33", message: "feat: NoteType system", phase: "green" }], notes: [] }] },
    { number: 2, pbi_id: "PBI-002", goal: "FrontmatterService", status: "done", subtasks: [{ test: "5ãƒ¡ã‚½ãƒƒãƒ‰", implementation: "services/frontmatter-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "0268c21", message: "feat: FrontmatterService", phase: "green" }], notes: [] }] },
    { number: 3, pbi_id: "PBI-003", goal: "é¸æŠãƒ†ã‚­ã‚¹ãƒˆâ†’ãƒãƒ¼ãƒˆ", status: "done", subtasks: [{ test: "Command+Modal", implementation: "commands/,ui/modals/", type: "behavioral", status: "completed", commits: [{ hash: "527d854", message: "feat: ExtractSelection", phase: "green" }], notes: [] }] },
    { number: 4, pbi_id: "PBI-004", goal: "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒ¼ãƒˆä½œæˆ", status: "done", subtasks: [{ test: "TemplateService", implementation: "services/template-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "275b08c", message: "feat: TemplateService", phase: "green" }], notes: [] }] },
    { number: 5, pbi_id: "PBI-005", goal: "è¨­å®šã‚¿ãƒ–UIå®Ÿè£…", status: "done", subtasks: [{ test: "SettingTab+æ°¸ç¶šåŒ–", implementation: "settings.ts", type: "behavioral", status: "completed", commits: [{ hash: "34e5338", message: "feat: SettingTab", phase: "green" }], notes: [] }] },
    { number: 6, pbi_id: "PBI-006", goal: "ãƒãƒ¼ãƒˆæ˜‡æ ¼æ©Ÿèƒ½", status: "done", subtasks: [{ test: "PromotionService+Command", implementation: "services/promotion-service.ts,commands/promote-note-command.ts", type: "behavioral", status: "completed", commits: [{ hash: "ca4d202", message: "feat: PromotionService", phase: "green" }, { hash: "7ee7498", message: "feat: PromoteNoteCommand", phase: "green" }], notes: [] }] },
    { number: 7, pbi_id: "PBI-007", goal: "Permanent-Structureæ¥ç¶š", status: "done", subtasks: [{ test: "ConnectionManager+LinkCommand", implementation: "core/connection-manager.ts,commands/link-permanent-command.ts", type: "behavioral", status: "completed", commits: [{ hash: "67af70b", message: "feat: ConnectionManager", phase: "green" }, { hash: "fb76382", message: "feat: LinkPermanentCommand", phase: "green" }], notes: [] }] },
    { number: 8, pbi_id: "PBI-008", goal: "å­¤ç«‹Permanentç™ºè¦‹", status: "done", subtasks: [{ test: "OrphanDetector+View", implementation: "services/orphan-detector-service.ts,ui/views/orphan-view.ts", type: "behavioral", status: "completed", commits: [{ hash: "af1660f", message: "feat: OrphanDetectorService", phase: "green" }, { hash: "b775960", message: "feat: OrphanView", phase: "green" }], notes: [] }] },
    { number: 9, pbi_id: "PBI-011", goal: "æ¥ç¶šç‡çµ±è¨ˆè¡¨ç¤º", status: "done", subtasks: [{ test: "getStats+UI", implementation: "services/orphan-detector-service.ts,ui/views/orphan-view.ts", type: "behavioral", status: "completed", commits: [{ hash: "151f9ac", message: "feat: getStats()", phase: "green" }], notes: [] }] },
    { number: 10, pbi_id: "PBI-009", goal: "ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—Fleeting", status: "done", subtasks: [{ test: "QuickCaptureModal+ã‚³ãƒãƒ³ãƒ‰", implementation: "ui/modals/quick-capture-modal.ts,main.ts", type: "behavioral", status: "completed", commits: [{ hash: "3df2861", message: "feat: QuickCaptureModal", phase: "green" }], notes: [] }] },
    { number: 11, pbi_id: "PBI-010", goal: "ãƒ•ã‚©ãƒ«ãƒ€è‡ªå‹•ç”Ÿæˆ", status: "done", subtasks: [{ test: "initializeAllFolders", implementation: "services/folder-service.ts,main.ts", type: "behavioral", status: "completed", commits: [{ hash: "6562f6c", message: "feat: auto folder init", phase: "green" }], notes: [] }] },
    { number: 12, pbi_id: "PBI-012", goal: "FolderSuggest", status: "done", subtasks: [{ test: "AbstractInputSuggestç¶™æ‰¿", implementation: "ui/suggesters/folder-suggest.ts,settings.ts", type: "behavioral", status: "completed", commits: [{ hash: "2c1069c", message: "feat: FolderSuggest", phase: "green" }], notes: [] }] },
    { number: 13, pbi_id: "PBI-013", goal: "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼", status: "done", subtasks: [{ test: "editor-menu/file-menu", implementation: "main.ts,settings.ts", type: "behavioral", status: "completed", commits: [{ hash: "31a755d", message: "feat: context menu", phase: "green" }], notes: [] }] },
    { number: 14, pbi_id: "PBI-015", goal: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°", status: "done", subtasks: [{ test: "setSection+addSeparator", implementation: "main.ts", type: "behavioral", status: "completed", commits: [{ hash: "8df2157", message: "feat: menu grouping", phase: "green" }], notes: [] }] },
    { number: 15, pbi_id: "PBI-014", goal: "i18nå›½éš›åŒ–", status: "done", subtasks: [{ test: "t()+ç¿»è¨³JSON", implementation: "i18n/,main.ts,settings.ts", type: "behavioral", status: "completed", commits: [{ hash: "65d7639", message: "feat: i18n", phase: "green" }], notes: [] }] },
    { number: 16, pbi_id: "PBI-016", goal: "3ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—åŒ–", status: "done", subtasks: [{ test: "Structure/Indexå‰Šé™¤", implementation: "4ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤+10ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°", type: "structural", status: "completed", commits: [{ hash: "f72e1d8", message: "refactor: remove Structure files", phase: "green" }, { hash: "c26fa4a", message: "refactor: fix build", phase: "green" }], notes: [] }] },
    { number: 17, pbi_id: "PBI-017", goal: "ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—åˆ¥è¨­å®šæ©Ÿèƒ½", status: "done", subtasks: [{ test: "NoteTypeSettingså‹+PageZettelSettingsæ‹¡å¼µ+3ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—UI+æ°¸ç¶šåŒ–", implementation: "types/settings.ts,settings.ts", type: "behavioral", status: "completed", commits: [{ hash: "6d046a7", message: "feat: NoteTypeSettings", phase: "green" }, { hash: "5d70f14", message: "feat: settings UI", phase: "green" }], notes: [] }] },
    { number: 18, pbi_id: "PBI-018", goal: "ãƒãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼ã®çµ±ä¸€UIå®Ÿè£…", status: "done", subtasks: [{ test: "i18nç¿»è¨³ã‚­ãƒ¼", implementation: "i18n/locales/", type: "behavioral", status: "completed", commits: [{ hash: "f3a6552", message: "feat(i18n): add aliasInput modal translation keys", phase: "green" }], notes: [] }, { test: "AliasInputModalåŸºæœ¬+ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹", implementation: "ui/modals/alias-input-modal.ts", type: "behavioral", status: "completed", commits: [{ hash: "8a2abb6", message: "feat(ui): implement AliasInputModal basic structure", phase: "green" }, { hash: "7760064", message: "feat(ui): add removeIndent checkbox to AliasInputModal", phase: "green" }], notes: [] }, { test: "NoteTypeModalå‹•ä½œç¢ºèª", implementation: "ui/modals/note-type-modal.ts", type: "behavioral", status: "completed", commits: [{ hash: "16a80a6", message: "docs(ui): verify NoteTypeModal meets AC1 requirements", phase: "green" }], notes: [] }, { test: "è¨­å®šé€£å‹•", implementation: "commands/extract-selection-command.ts", type: "behavioral", status: "completed", commits: [{ hash: "42f39f4", message: "feat(commands): integrate AliasInputModal with settings", phase: "green" }], notes: [] }] },
    { number: 19, pbi_id: "PBI-019", goal: "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å±•é–‹æ©Ÿèƒ½ã®å®Œæˆ", status: "done", subtasks: [{ test: "{{date}}/{{time}}/{{datetime}}å›ºå®šå½¢å¼å±•é–‹", implementation: "services/template-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "214a77b", message: "feat(template): add fixed format date/time/datetime placeholders", phase: "green" }], notes: ["AC2: {{date}}ã‚’YYYY-MM-DDå½¢å¼ã§å±•é–‹", "AC3: {{time}}ã‚’HH:mm:sså½¢å¼ã§å±•é–‹", "AC4: {{datetime}}ã‚’YYYY-MM-DD HH:mm:sså½¢å¼ã§å±•é–‹", "æ—¢å­˜ã®{{date:FORMAT}}ã¨çµ±åˆæ€§ç¢ºèª"] }, { test: "TemplateVariableså‹æ‹¡å¼µï¼ˆaliasè¿½åŠ ï¼‰", implementation: "services/template-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "5eccb0b", message: "feat(template): extend TemplateVariables with alias field", phase: "green" }], notes: ["TemplateVariablesã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«alias?: stringã‚’è¿½åŠ ", "å‹å®šç¾©ã®ã¿ã®ãŸã‚å³åº§ã«Green"] }, { test: "{{alias}}å±•é–‹: variables.alias || \"\"", implementation: "services/template-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "a053600", message: "feat(template): add {{alias}} placeholder expansion", phase: "green" }], notes: ["AC6: variables.alias || \"\"ã§å±•é–‹", "ã‚¨ã‚¤ãƒªã‚¢ã‚¹å…¥åŠ›æ™‚ã®ã¿å€¤ã‚’æŒã¤"] }, { test: "æ—¢å­˜æ©Ÿèƒ½çµ±åˆæ¤œè¨¼ï¼ˆ{{content}}/{{date:FORMAT}}/ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰", implementation: "services/template-service.ts", type: "behavioral", status: "completed", commits: [], notes: ["AC1: {{content}}å±•é–‹ãŒæ­£å¸¸å‹•ä½œï¼ˆLine 74ï¼‰", "AC5: {{title}}å±•é–‹ãŒæ­£å¸¸å‹•ä½œï¼ˆLine 71ï¼‰", "AC7: {{date:FORMAT}}ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç¶­æŒï¼ˆLine 80-86ï¼‰", "AC8: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœªè¨­å®šæ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç¢ºèªï¼ˆLine 30-31ï¼‰", "Definition of Doneï¼ˆbuild/lint/formatï¼‰å…¨ã¦ãƒ‘ã‚¹"] }] },
    { number: 20, pbi_id: "PBI-020", goal: "ãƒãƒ¼ãƒˆä½œæˆã‚µãƒ¼ãƒ“ã‚¹ã®çµ±ä¸€å®Ÿè£…", status: "done", subtasks: [{ test: "NoteCreatorServiceåŸºæœ¬æ§‹é€ ", implementation: "services/note-creator-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "c7a7456", message: "feat(services): add NoteCreatorService basic structure", phase: "green" }], notes: ["AC1: constructor(app,settings,folderService,templateService,frontmatterService)", "ä¾å­˜ã‚µãƒ¼ãƒ“ã‚¹ã®æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨", "NoteManager.createNote()ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²"] }, { test: "ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼å±•é–‹", implementation: "services/note-creator-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "d30576c", message: "feat(services): add generateFileName method with placeholder expansion", phase: "green" }], notes: ["AC2: settings[type].fileNameFormatã‚’ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å±•é–‹", "{{date}}/{{time}}/{{datetime}}/{{zettel-id}}/{{title}}/{{alias}}å…¨å¯¾å¿œ"] }, { test: "ãƒ•ã‚©ãƒ«ãƒ€é…ç½®+ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ+ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼+ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆçµ±åˆ", implementation: "services/note-creator-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "3f2430b", message: "feat(services): add folder placement with ensureFolderExistsByPath", phase: "green" }], notes: ["AC3: ensureFolderExistsByPath()ã§ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ", "AC4: templateService.getProcessedTemplate()ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå±•é–‹", "AC5: frontmatterService.addFrontmatter()ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¿½åŠ ", "AC6: app.vault.create() + new Notice()ã§ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ+é€šçŸ¥", "createNote()ãƒ¡ã‚½ãƒƒãƒ‰ã§å…¨æ©Ÿèƒ½çµ±åˆå®Œäº†"] }] },
    { number: 21, pbi_id: "PBI-021", goal: "Create New Noteã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè£…", status: "done", subtasks: [{ test: "i18nç¿»è¨³ã‚­ãƒ¼è¿½åŠ : commands.createNewNoteé…ä¸‹ã«æ—¥è‹±ç¿»è¨³ã‚­ãƒ¼è¿½åŠ ", implementation: "i18n/locales/ja.json, i18n/locales/en.json", type: "behavioral", status: "completed", commits: [{ hash: "3539430", message: "feat(i18n): add createNewNote command translation keys", phase: "green" }], notes: ["AC1å¯¾å¿œ", "Sprint 18ã®i18nå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²"] }, { test: "NoteCreatorServiceåˆæœŸåŒ–: main.tså†…ã§NoteCreatorServiceåˆæœŸåŒ–ï¼ˆapp, settings, folderService, templateService, frontmatterServiceæ³¨å…¥ï¼‰", implementation: "main.ts", type: "behavioral", status: "completed", commits: [{ hash: "a7a2bc7", message: "feat(services): initialize NoteCreatorService in main.ts", phase: "green" }], notes: ["AC6å¯¾å¿œ", "æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²ï¼ˆSprint 20å‚ç…§ï¼‰"] }, { test: "ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²åŸºæœ¬æ§‹é€ : addCommand({id:\"create-new-note\", name:çµµæ–‡å­—è¨­å®šé€£å‹•, callback})", implementation: "main.ts", type: "behavioral", status: "completed", commits: [{ hash: "d0b4026", message: "feat(commands): add create-new-note command registration", phase: "green" }], notes: ["AC2å¯¾å¿œ", "settings.ui.showEmojiInCommandsãƒ•ãƒ©ã‚°ã§ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤ºåˆ¶å¾¡"] }, { test: "NoteTypeModalè¡¨ç¤ºçµ±åˆ: NoteTypeModal(app, onSelect, [\"fleeting\", \"literature\", \"permanent\"])å‘¼ã³å‡ºã—", implementation: "main.ts", type: "behavioral", status: "completed", commits: [{ hash: "861cc61", message: "feat(commands): integrate NoteTypeModal in create-new-note", phase: "green" }], notes: ["AC3å¯¾å¿œ", "extract-selection-commandãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²"] }, { test: "AliasInputModalæ¡ä»¶è¡¨ç¤º: settings[type].showAliasInput=trueã®å ´åˆã®ã¿AliasInputModalè¡¨ç¤º + showRemoveIndent=false", implementation: "main.ts", type: "behavioral", status: "completed", commits: [{ hash: "b62c10e", message: "feat(commands): complete create-new-note command implementation", phase: "green" }], notes: ["AC4å¯¾å¿œ", "removeIndentãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹éè¡¨ç¤º"] }, { test: "NoteCreatorServiceçµ±åˆ + ãƒãƒ¼ãƒˆã‚ªãƒ¼ãƒ—ãƒ³: noteCreatorService.createNote(type, \"\", alias) + openLinkText()ã§ãƒãƒ¼ãƒˆã‚’é–‹ã", implementation: "main.ts", type: "behavioral", status: "completed", commits: [{ hash: "b62c10e", message: "feat(commands): complete create-new-note command implementation", phase: "green" }], notes: ["AC5å¯¾å¿œ", "content=\"\"ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿å±•é–‹", "DESIGN.md L46æº–æ‹ "] }] },
    { number: 22, pbi_id: "PBI-022", goal: "Extract to Noteæ©Ÿèƒ½ã®æ–°è¨­è¨ˆæº–æ‹ å®Ÿè£…", status: "done", subtasks: [{ test: "AC1+AC4: NoteCreatorServiceçµ±åˆ+ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå‰Šé™¤æ©Ÿèƒ½ç¶­æŒ", implementation: "commands/extract-selection-command.ts", type: "behavioral", status: "completed", commits: [{ hash: "39a7b11", message: "refactor(commands): integrate NoteCreatorService in extract-selection", phase: "green" }], notes: ["NoteManager.createNote() â†’ noteCreatorService.createNote()ã«ç½®æ›", "removeCommonIndent()é–¢æ•°ç¶­æŒç¢ºèªï¼ˆL111-129ï¼‰", "AliasInputModal.removeIndentçµ±åˆç¢ºèªï¼ˆL61-62ï¼‰"] }, { test: "AC3-1: BehaviorSettings.openAfterExtractè¨­å®šè¿½åŠ ", implementation: "types/settings.ts, settings.ts, i18n/locales/", type: "behavioral", status: "completed", commits: [{ hash: "ae9adab", message: "feat(settings): add openAfterExtract behavior setting", phase: "green" }], notes: ["BehaviorSettingså‹ã«openAfterExtract: booleanè¿½åŠ ", "DEFAULT_SETTINGS.behavior.openAfterExtract = trueè¿½åŠ ", "è¨­å®šUIè¿½åŠ ï¼ˆinsertLinkAfterExtractã¨åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰", "i18nç¿»è¨³ã‚­ãƒ¼è¿½åŠ ï¼ˆja.json + en.jsonï¼‰"] }, { test: "AC3-2+AC2+AC5: è¨­å®šé€£å‹•ãƒãƒ¼ãƒˆã‚ªãƒ¼ãƒ—ãƒ³+ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªãƒ³ã‚¯å½¢å¼+i18næ›´æ–°", implementation: "commands/extract-selection-command.ts, main.ts, i18n/locales/", type: "behavioral", status: "completed", commits: [{ hash: "d56063e", message: "feat(commands): enhance extract-to-note with markdown links and i18n", phase: "green" }], notes: ["AC3-2: openAfterExtract=trueã®å ´åˆã®ã¿openLinkText()å®Ÿè¡Œï¼ˆL103ï¼‰", "AC2: [[basename]] â†’ [alias](relativePath)å½¢å¼ï¼ˆDESIGN.md L262-271æº–æ‹ ï¼‰", "AC5: commands.extractSelection â†’ commands.extractToNoteï¼ˆja/enç¿»è¨³ã‚­ãƒ¼æ›´æ–°ï¼‰"] }] },
    { number: 23, pbi_id: "PBI-023", goal: "å­¤ç«‹Permanentæ¤œå‡ºã®ãƒªãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹å®Ÿè£…", status: "done", subtasks: [{ test: "getOrphanPermanentNotes()ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°: structure_notesãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼æ¤œå‡ºã‚’å‰Šé™¤+metadataCache.getFileCache(file)ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªãƒ³ã‚¯è¢«å‚ç…§ã‚’ãƒã‚§ãƒƒã‚¯+è¢«å‚ç…§0ä»¶=å­¤ç«‹", implementation: "services/orphan-detector-service.ts", type: "behavioral", status: "completed", commits: [{ hash: "06a508e", message: "refactor(orphan): switch to link-based detection", phase: "green" }], notes: ["AC1å¯¾å¿œ", "permanent typeã®ãƒãƒ¼ãƒˆã‚’å–å¾—", "å…¨markdownãƒ•ã‚¡ã‚¤ãƒ«ã®metadataCache.getFileCache()ã‹ã‚‰linksé…åˆ—ã‚’å–å¾—", "å„linkã®linkTextãŒpermanentãƒãƒ¼ãƒˆã®basenameã¨ä¸€è‡´ã™ã‚‹ã‹ç¢ºèª", "ä¸€è‡´ã™ã‚‹è¢«å‚ç…§ãŒ0ä»¶ã®ãƒãƒ¼ãƒˆã‚’å­¤ç«‹ã¨åˆ¤å®š"] }, { test: "getStats()ä¿æŒæ¤œè¨¼: çµ±è¨ˆæƒ…å ±å–å¾—ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆtotal/orphans/connected/connectionRateè¨ˆç®—ï¼‰ã®æ—¢å­˜å®Ÿè£…ç¶­æŒç¢ºèª", implementation: "services/orphan-detector-service.ts", type: "behavioral", status: "completed", commits: [], notes: ["AC2å¯¾å¿œ", "L68-97ã®ã‚³ãƒ¼ãƒ‰ç¢ºèª", "getOrphanPermanentNotes()ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ç¶­æŒã«ã‚ˆã‚Šå¤‰æ›´ä¸è¦", "total/orphans/connected/connectionRateè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ç¶­æŒ"] }, { test: "OrphanViewç¶­æŒæ¤œè¨¼: ã‚¯ãƒªãƒƒã‚¯ã§ãƒãƒ¼ãƒˆé·ç§»+çµ±è¨ˆè¡¨ç¤º+ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒœã‚¿ãƒ³ã®æ—¢å­˜å®Ÿè£…ç¶­æŒç¢ºèª", implementation: "ui/views/orphan-view.ts", type: "behavioral", status: "completed", commits: [], notes: ["AC3å¯¾å¿œ", "L103-106: ã‚¯ãƒªãƒƒã‚¯ã§ãƒãƒ¼ãƒˆé·ç§»æ©Ÿèƒ½ç¶­æŒ", "L66-76: çµ±è¨ˆè¡¨ç¤ºæ©Ÿèƒ½ç¶­æŒ", "L78-84: ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒœã‚¿ãƒ³æ©Ÿèƒ½ç¶­æŒ", "OrphanDetectorServiceã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¾å­˜ã«ã‚ˆã‚Šå¤‰æ›´ä¸è¦"] }, { test: "i18nç¿»è¨³ã‚­ãƒ¼ç¶­æŒæ¤œè¨¼: views.orphané…ä¸‹ã®æ—¢å­˜ç¿»è¨³ã‚­ãƒ¼ï¼ˆtitle/stats/refreshButton/emptyMessageï¼‰ã‚’å¤‰æ›´ãªã—", implementation: "src/i18n/locales/ja.json, src/i18n/locales/en.json", type: "behavioral", status: "completed", commits: [], notes: ["AC4å¯¾å¿œ", "ja.json L148-154: title/stats/refreshButton/emptyMessageç¶­æŒç¢ºèª", "en.json L148-154: title/stats/refreshButton/emptyMessageç¶­æŒç¢ºèª", "å¤‰æ›´ä¸è¦"] }] },
    { number: 24, pbi_id: "PBI-024", goal: "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼Extractæ©Ÿèƒ½ã®æ¤œè¨¼å®Œäº†", status: "done", subtasks: [{ test: "AC1æ¤œè¨¼: editor-menuã‚¤ãƒ™ãƒ³ãƒˆã§é¸æŠãƒ†ã‚­ã‚¹ãƒˆãŒã‚ã‚‹å ´åˆã®ã¿Extract to Noteãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤º", implementation: "src/main.ts L141", type: "behavioral", status: "completed", commits: [], notes: ["editor.getSelection()ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²ç¢ºèªå®Œäº†ï¼ˆL141ï¼‰", "é¸æŠãƒ†ã‚­ã‚¹ãƒˆã‚ã‚Šã®å ´åˆã®ã¿menu.addItem()å®Ÿè¡Œã‚’ç¢ºèªï¼ˆL142-157ï¼‰", "PBI-013ã§å®Ÿè£…æ¸ˆã¿"] }, { test: "AC2æ¤œè¨¼: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¯ãƒªãƒƒã‚¯æ™‚ã«extractSelection()ã‚’å®Ÿè¡Œ", implementation: "src/main.ts L154", type: "behavioral", status: "completed", commits: [], notes: ["onClickå†…ã§extractSelection(this, editor, view)å‘¼ã³å‡ºã—ç¢ºèªï¼ˆL154ï¼‰", "extract-selection-command.tsçµ±åˆç¢ºèªå®Œäº†", "PBI-013ã§å®Ÿè£…æ¸ˆã¿"] }, { test: "AC3æ¤œè¨¼: showContextMenuItems=falseã®å ´åˆãƒ¡ãƒ‹ãƒ¥ãƒ¼éè¡¨ç¤º", implementation: "src/main.ts L136", type: "behavioral", status: "completed", commits: [], notes: ["settings.ui.showContextMenuItems=falseã§early returnç¢ºèªï¼ˆL136ï¼‰", "è¨­å®šUIã¨ã®é€£å‹•ç¢ºèªå®Œäº†", "PBI-013ã§å®Ÿè£…æ¸ˆã¿"] }, { test: "AC4æ¤œè¨¼: commands.extractToNoteã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¿ã‚¤ãƒˆãƒ«ã«ä½¿ç”¨", implementation: "src/main.ts L147", type: "behavioral", status: "completed", commits: [], notes: ["t(\"commands.extractToNote\")ä½¿ç”¨ç¢ºèªï¼ˆL147-148ï¼‰", "i18n/locales/ja.json+en.jsonã®ç¿»è¨³ã‚­ãƒ¼å­˜åœ¨ç¢ºèªå®Œäº†", "PBI-022ã§ç¿»è¨³ã‚­ãƒ¼æ›´æ–°æ¸ˆã¿"] }, { test: "AC5æ¤œè¨¼: showEmojiInCommands=trueã®å ´åˆğŸ“ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º", implementation: "src/main.ts L146-148", type: "behavioral", status: "completed", commits: [], notes: ["settings.ui.showEmojiInCommandsä¸‰é …æ¼”ç®—å­ç¢ºèªï¼ˆL146-148ï¼‰", "çµµæ–‡å­—ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ğŸ“ã®æ¡ä»¶ä»˜ãè¡¨ç¤ºç¢ºèªå®Œäº†", "PBI-013ã§å®Ÿè£…æ¸ˆã¿"] }, { test: "Definition of Doneæ¤œè¨¼: build/lint/formatå…¨ãƒã‚§ãƒƒã‚¯ãƒ‘ã‚¹", implementation: "pnpm build && pnpm lint && pnpm format:check", type: "behavioral", status: "completed", commits: [], notes: ["pnpm build: PASS", "pnpm lint: PASS (warning 1ä»¶ã¯æ—¢å­˜ã®å‹å®šç¾©ã«ã‚ˆã‚‹)", "pnpm format:check: PASS", "å…¨DoDãƒã‚§ãƒƒã‚¯é€šé"] }] },
  ],

  retrospectives: [
    { sprint: 1, improvements: [{ action: "DoDæ¤œè¨¼", timing: "sprint", status: "completed", outcome: "Sprint2é©ç”¨" }] },
    { sprint: 2, improvements: [{ action: "ã‚µãƒ–ã‚¿ã‚¹ã‚¯å°åˆ†å‰²", timing: "sprint", status: "completed", outcome: "Sprint3é©ç”¨" }] },
    { sprint: 3, improvements: [{ action: "ã‚µãƒ–ã‚¿ã‚¹ã‚¯=ã‚³ãƒŸãƒƒãƒˆå˜ä½", timing: "sprint", status: "completed", outcome: "Sprint4ç¢ºèª" }] },
    { sprint: 4, improvements: [{ action: "AC-å®Ÿè£…æ•´åˆæ€§ç¢ºèª", timing: "sprint", status: "completed", outcome: "Sprint5ç¢ºèª" }] },
    { sprint: 5, improvements: [{ action: "1AC=1è«–ç†ã‚°ãƒ«ãƒ¼ãƒ—", timing: "sprint", status: "completed", outcome: "Sprint6é”æˆ" }] },
    { sprint: 6, improvements: [{ action: "ACä¾å­˜é–¢ä¿‚é †", timing: "sprint", status: "completed", outcome: "Sprint7æˆåŠŸ" }] },
    { sprint: 7, improvements: [{ action: "æ—¢å­˜å®Ÿè£…æ¤œç´¢å¿…é ˆåŒ–", timing: "sprint", status: "completed", outcome: "Sprint8/9ç¢ºç«‹" }] },
    { sprint: 8, improvements: [{ action: "ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹PBIå€™è£œä½œæˆ", timing: "product", status: "active", outcome: null }] },
    { sprint: 9, improvements: [{ action: "æ—¢å­˜å®Ÿè£…æ‹¡å¼µãƒ‘ã‚¿ãƒ¼ãƒ³ç¶™ç¶š", timing: "sprint", status: "completed", outcome: "getStats+UIçµ±åˆæˆåŠŸ" }] },
    { sprint: 10, improvements: [{ action: "Modalå®Ÿè£…å‰ã«æ—¢å­˜Modalèª¿æŸ»å¿…é ˆåŒ–", timing: "sprint", status: "completed", outcome: "Sprint11ã§Modalä¸ä½¿ç”¨" }] },
    { sprint: 11, improvements: [{ action: "æ—¢å­˜Serviceæ´»ç”¨ã‚’å®Ÿè£…å‰èª¿æŸ»ã§ç¢ºèª", timing: "sprint", status: "completed", outcome: "Sprint12ã§AbstractInputSuggestæ´»ç”¨" }] },
    { sprint: 12, improvements: [{ action: "Obsidian APIç¶™æ‰¿ãƒ‘ã‚¿ãƒ¼ãƒ³æ´»ç”¨ç¶™ç¶š", timing: "sprint", status: "completed", outcome: "Sprint13ã§workspace eventsé©ç”¨" }] },
    { sprint: 13, improvements: [{ action: "å‹å®šç¾©äº‹å‰ç¢ºèªç¶™ç¶š", timing: "sprint", status: "completed", outcome: "Sprint14ã§setSectionæ¡ç”¨" }] },
    { sprint: 14, improvements: [{ action: "obsidian.d.tsç¢ºèªå¿…é ˆåŒ–", timing: "sprint", status: "completed", outcome: "Sprint15ã§getLanguageæ´»ç”¨" }] },
    { sprint: 15, improvements: [{ action: "tsconfig.jsonæ›´æ–°ç¢ºèª", timing: "sprint", status: "active", outcome: null }] },
    { sprint: 16, improvements: [{ action: "å¤§è¦æ¨¡å‰Šé™¤æ™‚grepç¶²ç¾…æ€§å‘ä¸Š", timing: "sprint", status: "active", outcome: null }, { action: "å‹ä¾å­˜é–¢ä¿‚ã®æ˜ç¤ºçš„ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—", timing: "sprint", status: "completed", outcome: "PBI-017ã§é©ç”¨: NoteTypeSettingså‹â†’PageZettelSettingsæ‹¡å¼µâ†’UIå®Ÿè£…â†’æ°¸ç¶šåŒ–æ¤œè¨¼ã®é †ã§é€²è¡Œã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãªã—" }] },
    { sprint: 17, improvements: [{ action: "è¨­å®šUIå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæŠ½å‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºç«‹", timing: "sprint", status: "active", outcome: null }, { action: "UIå®Ÿè£…å‰ã®i18nç¿»è¨³ã‚­ãƒ¼äº‹å‰è¨­è¨ˆ", timing: "sprint", status: "completed", outcome: "Sprint18ã§i18nç¿»è¨³ã‚­ãƒ¼ã‚’æœ€åˆã«å®Ÿè£…ã—ã€Modalå®Ÿè£…æ™‚ã«ã‚­ãƒ¼å‚ç…§å¯èƒ½" }] },
    { sprint: 18, improvements: [{ action: "Modalå®Ÿè£…æ™‚ã®æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨è¸è¥²", timing: "sprint", status: "completed", outcome: "QuickCaptureModalãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Œå…¨è¸è¥²ã—ã¦AliasInputModalå®Ÿè£…æˆåŠŸã€‚æ—¢å­˜NoteTypeModalç¢ºèªã«ã‚ˆã‚Šä¸è¦ãªå®Ÿè£…å›é¿" }, { action: "è¨­å®šé€£å‹•æ©Ÿèƒ½ã®æ®µéšçš„çµ±åˆæ¤œè¨¼", timing: "sprint", status: "completed", outcome: "showAliasInputãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹Modalè¡¨ç¤ºåˆ¶å¾¡æˆåŠŸã€‚Sprint19ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå±•é–‹æ©Ÿèƒ½çµ±åˆå®Œäº†" }] },
    { sprint: 19, improvements: [{ action: "æ—¢å­˜Serviceæ‹¡å¼µãƒ‘ã‚¿ãƒ¼ãƒ³ç¶™ç¶šï¼ˆTemplateServiceï¼‰", timing: "sprint", status: "completed", outcome: "æ—¢å­˜ã®TemplateServiceã‚’æ‹¡å¼µã—ã€8ã¤ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å±•é–‹æ©Ÿèƒ½ã‚’è¿½åŠ ã€‚æ—¢å­˜ã®{{date:FORMAT}}ã‚’å£Šã•ãšã«å›ºå®šå½¢å¼{{date}}/{{time}}/{{datetime}}ã‚’å…±å­˜å®Ÿè£…" }, { action: "æ­£è¦è¡¨ç¾ãƒãƒƒãƒé †åºã«ã‚ˆã‚‹æ©Ÿèƒ½å…±å­˜", timing: "sprint", status: "completed", outcome: "{{date:FORMAT}}ã‚’å…ˆã«ãƒãƒƒãƒã•ã›ã‚‹ã“ã¨ã§ã€{{date}}ã¨ã®è¡çªã‚’å›é¿ã€‚æ®µéšçš„ãªæ©Ÿèƒ½è¿½åŠ ãŒæˆåŠŸ" }, { action: "å‹æ‹¡å¼µã«ã‚ˆã‚‹å‹å®‰å…¨æ€§ç¶­æŒ", timing: "sprint", status: "completed", outcome: "TemplateVariablesã«alias?:stringã‚’è¿½åŠ ã—ã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’å£Šã•ãšã«å‹å®‰å…¨ã«æ©Ÿèƒ½æ‹¡å¼µ" }] },
    { sprint: 20, improvements: [{ action: "çµ±åˆServiceãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºç«‹ï¼ˆNoteCreatorServiceï¼‰", timing: "sprint", status: "completed", outcome: "è¤‡æ•°ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆFolderService/TemplateService/FrontmatterServiceï¼‰ã‚’çµ±åˆã—ã€ãƒãƒ¼ãƒˆä½œæˆã‚’ä¸€å…ƒç®¡ç†ã€‚ä¾å­˜æ€§æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†åˆ©ç”¨" }, { action: "ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å±•é–‹ã®çµ±ä¸€å®Ÿè£…", timing: "sprint", status: "completed", outcome: "ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼ã§{{date}}/{{time}}/{{datetime}}/{{zettel-id}}/{{title}}/{{alias}}ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆã€‚TemplateServiceã¨åŒã˜ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥²" }, { action: "createNote()ã§ã®æ©Ÿèƒ½çµ±åˆæˆ¦ç•¥", timing: "sprint", status: "completed", outcome: "è¤‡æ•°ACã‚’createNote()ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§çµ±åˆå®Ÿè£…ã€‚å˜ä¸€ã‚³ãƒŸãƒƒãƒˆã§é–¢é€£æ©Ÿèƒ½ã‚’ã¾ã¨ã‚ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ã§ãƒ†ã‚¹ãƒˆå¯èƒ½ãªå˜ä½ã‚’ç¶­æŒ" }] },
    { sprint: 21, improvements: [{ action: "åŸºç›¤å…ˆè¡Œãƒ»çµ±åˆå¾Œè¡Œã®æ®µéšçš„å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒç¶™ç¶š", timing: "sprint", status: "completed", outcome: "Sprint 18-20ã§ä½œæˆã—ãŸåŸºç›¤ï¼ˆNoteTypeModal/AliasInputModal/NoteCreatorServiceï¼‰ã‚’åŠ¹æœçš„ã«å†åˆ©ç”¨ã—ã€Create New Noteã‚³ãƒãƒ³ãƒ‰ã‚’è¿…é€Ÿã«å®Ÿè£…å®Œäº†" }, { action: "i18nç¿»è¨³ã‚­ãƒ¼äº‹å‰è¿½åŠ ãƒ‘ã‚¿ãƒ¼ãƒ³ç¶™ç¶š", timing: "sprint", status: "completed", outcome: "Sprint 18ã§ç¢ºç«‹ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶™ç¶šã€‚ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…æ™‚ã«i18nç¿»è¨³ã‚­ãƒ¼ãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚­ãƒ¼å‚ç…§ãŒå®¹æ˜“ã§å®Ÿè£…ãŒã‚¹ãƒ ãƒ¼ã‚º" }, { action: "å†åˆ©ç”¨å¯èƒ½ãªãƒ¡ã‚½ãƒƒãƒ‰è¨­è¨ˆï¼ˆcreateNoteAndOpenï¼‰", timing: "sprint", status: "completed", outcome: "createNoteAndOpen()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’NoteCreatorServiceã«åˆ‡ã‚Šå‡ºã™ã“ã¨ã§ã€ä»Šå¾Œã®Extract to Noteï¼ˆPBI-022ï¼‰ã§ã‚‚å†åˆ©ç”¨å¯èƒ½ãªè¨­è¨ˆã‚’å®Ÿç¾" }, { action: "è¨­å®šé€£å‹•ã«ã‚ˆã‚‹ä¸€è²«ã—ãŸUXç¶­æŒ", timing: "sprint", status: "completed", outcome: "showEmojiInCommandsè¨­å®šãƒ•ãƒ©ã‚°ã§çµµæ–‡å­—è¡¨ç¤ºã‚’åˆ¶å¾¡ã—ã€å…¨ã‚³ãƒãƒ³ãƒ‰ã§ä¸€è²«ã—ãŸUXä½“é¨“ã‚’æä¾›" }] },
    { sprint: 22, improvements: [{ action: "NoteCreatorServiceçµ±åˆã«ã‚ˆã‚‹æ—¢å­˜ã‚³ãƒ¼ãƒ‰ç½®æ›ãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºç«‹", timing: "sprint", status: "completed", outcome: "Sprint 20ã§ä½œæˆã—ãŸNoteCreatorServiceã‚’Extract to Noteæ©Ÿèƒ½ã«çµ±åˆã€‚NoteManager.createNote()ã‚’å®Œå…¨ã«ç½®æ›ã—ã€æ–°è¨­è¨ˆã¸ã®ç§»è¡Œã‚’å®Œäº†" }, { action: "ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªãƒ³ã‚¯å½¢å¼ã¸ã®çµ±ä¸€ï¼ˆWikiãƒªãƒ³ã‚¯ã‹ã‚‰Markdownãƒªãƒ³ã‚¯ã¸ï¼‰", timing: "sprint", status: "completed", outcome: "[[basename]]å½¢å¼ã‹ã‚‰[alias](relativePath)å½¢å¼ã«å¤‰æ›´ã€‚ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¡¨ç¤ºã¨ãƒ•ã‚¡ã‚¤ãƒ«åè¡¨ç¤ºã‚’çµ±ä¸€ã—ã€DESIGN.md L262-271æº–æ‹ ã‚’å®Ÿç¾" }, { action: "BehaviorSettingsæ‹¡å¼µã«ã‚ˆã‚‹è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ ãƒ‘ã‚¿ãƒ¼ãƒ³ç¶™ç¶š", timing: "sprint", status: "completed", outcome: "openAfterExtractè¨­å®šã‚’è¿½åŠ ã—ã€Extractå¾Œã®ãƒãƒ¼ãƒˆã‚ªãƒ¼ãƒ—ãƒ³å‹•ä½œã‚’åˆ¶å¾¡å¯èƒ½ã«ã€‚insertLinkAfterExtractã¨åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…" }, { action: "æ—¢å­˜æ©Ÿèƒ½ç¶­æŒã®æ¤œè¨¼æ‰‹æ³•ç¢ºç«‹ï¼ˆremoveCommonIndentï¼‰", timing: "sprint", status: "completed", outcome: "æ—¢å­˜ã®removeCommonIndent()é–¢æ•°ã¨AliasInputModal.removeIndentçµ±åˆã‚’ç¢ºèªã€‚ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã‚‚æ©Ÿèƒ½ãŒç¶­æŒã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼" }, { action: "i18nç¿»è¨³ã‚­ãƒ¼æ›´æ–°ã«ã‚ˆã‚‹å‘½åè¦å‰‡çµ±ä¸€", timing: "sprint", status: "completed", outcome: "commands.extractSelection â†’ commands.extractToNoteã«æ›´æ–°ã€‚ã‚³ãƒãƒ³ãƒ‰åã¨i18nç¿»è¨³ã‚­ãƒ¼ã®å‘½åè¦å‰‡ã‚’çµ±ä¸€ã—ã€ä¿å®ˆæ€§ã‚’å‘ä¸Š" }] },
    { sprint: 23, improvements: [{ action: "ãƒªãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹å­¤ç«‹æ¤œå‡ºã¸ã®è¨­è¨ˆå¤‰æ›´", timing: "sprint", status: "completed", outcome: "structure_notesãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹ã‹ã‚‰metadataCache.linksãƒ™ãƒ¼ã‚¹ã«å¤‰æ›´ã€‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒªãƒ³ã‚¯è¢«å‚ç…§ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€ã‚ˆã‚Šæ­£ç¢ºãªå­¤ç«‹ãƒãƒ¼ãƒˆæ¤œå‡ºã‚’å®Ÿç¾" }, { action: "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¿æŒã«ã‚ˆã‚‹UIå±¤ã¸ã®å½±éŸ¿æœ€å°åŒ–", timing: "sprint", status: "completed", outcome: "OrphanDetectorServiceã®getOrphanPermanentNotes()ã¨getStats()ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç¶­æŒã€‚OrphanViewã¨i18nç¿»è¨³ã‚­ãƒ¼ã¸ã®å¤‰æ›´ä¸è¦ã‚’å®Ÿç¾" }, { action: "æ¤œè¨¼å°‚ç”¨ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã«ã‚ˆã‚‹æ—¢å­˜æ©Ÿèƒ½ä¿æŒç¢ºèªãƒ‘ã‚¿ãƒ¼ãƒ³", timing: "sprint", status: "completed", outcome: "getStats()ä¿æŒæ¤œè¨¼/OrphanViewç¶­æŒæ¤œè¨¼/i18nç¿»è¨³ã‚­ãƒ¼ç¶­æŒæ¤œè¨¼ã®3ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã§æ—¢å­˜æ©Ÿèƒ½ã‚’ä½“ç³»çš„ã«æ¤œè¨¼ã€‚ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã®å½±éŸ¿ç¯„å›²ã‚’æ˜ç¢ºåŒ–" }] },
    { sprint: 24, improvements: [{ action: "æ¤œè¨¼å°‚ç”¨ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ç¢ºç«‹", timing: "sprint", status: "completed", outcome: "PBI-013ã§å®Ÿè£…æ¸ˆã¿ã®æ©Ÿèƒ½ã‚’PBI-024ã§æ¤œè¨¼å°‚ç”¨ã‚¹ãƒ—ãƒªãƒ³ãƒˆã¨ã—ã¦å®Ÿæ–½ã€‚æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ä»•æ§˜æ›¸åŒ–ã«ã‚ˆã‚Šã€å®Ÿè£…æ¼ã‚Œã‚„è¨­è¨ˆé½Ÿé½¬ã‚’æ—©æœŸç™ºè¦‹ã§ãã‚‹ä½“åˆ¶ã‚’ç¢ºç«‹" }, { action: "æ—¢å­˜å®Ÿè£…ã®æ®µéšçš„ãªä»•æ§˜æ›¸åŒ–", timing: "product", status: "active", outcome: null }] },
  ],
};

export default scrum;

// ============================================================
// Type Definitions (DO NOT MODIFY)
// ============================================================
type PBIStatus = "draft" | "refining" | "ready" | "done";
type SprintStatus = "planning" | "in_progress" | "review" | "done" | "cancelled";
type SubtaskStatus = "pending" | "red" | "green" | "refactoring" | "completed";
type SubtaskType = "behavioral" | "structural";
type CommitPhase = "green" | "refactoring";
type ImprovementTiming = "immediate" | "sprint" | "product";
type ImprovementStatus = "active" | "completed" | "abandoned";
interface SuccessMetric { metric: string; target: string; }
interface ProductGoal { statement: string; success_metrics: SuccessMetric[]; }
interface AcceptanceCriterion { criterion: string; verification: string; }
interface UserStory { role: (typeof userStoryRoles)[number]; capability: string; benefit: string; }
interface PBI { id: string; story: UserStory; acceptance_criteria: AcceptanceCriterion[]; status: PBIStatus; }
interface Commit { hash: string; message: string; phase: CommitPhase; }
interface Subtask { test: string; implementation: string; type: SubtaskType; status: SubtaskStatus; commits: Commit[]; notes: string[]; }
interface Sprint { number: number; pbi_id: string; goal: string; status: SprintStatus; subtasks: Subtask[]; }
interface DoDCheck { name: string; run: string; }
interface DefinitionOfDone { checks: DoDCheck[]; }
interface Improvement { action: string; timing: ImprovementTiming; status: ImprovementStatus; outcome: string | null; }
interface Retrospective { sprint: number; improvements: Improvement[]; }
interface ScrumDashboard { product_goal: ProductGoal; product_backlog: PBI[]; sprint: Sprint | null; definition_of_done: DefinitionOfDone; completed: Sprint[]; retrospectives: Retrospective[]; }

console.log(JSON.stringify(scrum, null, 2));
